import { useState, useEffect, createRef } from "react";
import { CSSTransition, TransitionGroup } from "react-transition-group";
import {Button, ContactForm, Description, Experience, Feedbalck, GiftPopup, MoneyEarn, ProjectCart, Services} from "../../transponder"

import "./mainPage.scss";

import gift from "../../../assets/mainPage/gift.png";
import arrowTop from "../../../assets/footer/top-arrow.svg"

const MainPage = () => {
     const [projectCarts, setProjectCarts] = useState([
          {
               name: "FoodRuns Mobile Apps",
               id: 0,
               thumbs: ["clos.jpg", "1.jpg", "2.jpg"],
               desc: "Lorem ipsum dolor sit amet consectetur adipisicing elit. Voluptas, obcaecati. Lorem ipsum dolor sit amet consectetur adipisicing elit. Aspernatur sequi pariatur ea deleniti cumque excepturi quidem provident reprehenderit maxime ipsa!",
               nodeRef: createRef(null),
               amount: "$1700",
               period: "2 місяці"
          },
          {
               name: "Estate Landing Page",
               id: 1,
               thumbs: "2.jpg",
               desc: "Lorem ipsum dolor sit amet consectetur adipisicing elit. Voluptas, obcaecati.",
               nodeRef: createRef(null),
               amount: "$2700",
               period: "3 місяці"
          },
          {
               name: "Estate Landing Page",
               id: 2,
               thumbs: "3.jpg",
               desc: "Lorem ipsum dolor sit amet consectetur adipisicing elit. Voluptas, obcaecati.",
               nodeRef: createRef(null),
               amount: "$4700",
               period: "4 місяці"
          },
          {
               name: "Sneakers E-commerce Mobile App",
               id: 3,
               thumbs: "4.jpg",
               desc: "Lorem ipsum dolor sit amet consectetur adipisicing elit. Voluptas, obcaecati.",
               nodeRef: createRef(null),
               amount: "$35000",
               period: "7 місяців"
          }
     ]);
     const [cartBD, setCartBD] = useState([
          {
               "name": "1FoodRuns Mobile Apps",
               "id": 0,
               "thumbs": ["clos.jpg", "1.jpg", "2.jpg"],
               "desc": "Lorem ipsum dolor sit amet consectetur adipisicing elit. Voluptas, obcaecati. Lorem ipsum dolor sit amet consectetur adipisicing elit. Aspernatur sequi pariatur ea deleniti cumque excepturi quidem provident reprehenderit maxime ipsa!",
               nodeRef: createRef(null),
          },
          {
               "name": "2Something",
               "id": 0,
               "thumbs": ["clos.jpg", "1.jpg", "2.jpg"],
               "desc": "Lorem ipsum dolor sit amet consectetur adipisicing elit. Voluptas, obcaecati. Lorem ipsum dolor sit amet consectetur adipisicing elit. Aspernatur sequi pariatur ea deleniti cumque excepturi quidem provident reprehenderit maxime ipsa!",
               nodeRef: createRef(null),
          },
          {
               "name": "3Something",
               "id": 0,
               "thumbs": ["clos.jpg", "1.jpg", "2.jpg"],
               "desc": "Lorem ipsum dolor sit amet consectetur adipisicing elit. Voluptas, obcaecati. Lorem ipsum dolor sit amet consectetur adipisicing elit. Aspernatur sequi pariatur ea deleniti cumque excepturi quidem provident reprehenderit maxime ipsa!",
               nodeRef: createRef(null),
          }
     ]);
     const [isOpenGift, setIsOpenGift] = useState(false);
     const [showIconGift, setShowIconGift] = useState(false);
     const [wasOpenGift, setWasOpenGift] = useState(false);
     const [isOpenForm, setIsOpenForm] = useState(false);
     const [isArrowTop, setIsArrowTop] = useState(false);

     const handleOpenGiftModal = () => {
          setShowIconGift(false);
          setWasOpenGift(true)
          setIsOpenGift(true); //открываем попам  

          document.body.classList.add("_lock");
     }

     const openGiftPopupUpAuto = (e) => {
          handleOpenGiftModal();
     };
     
     const showGiftIcon = () => {

          if (window.scrollY < 499) return;
          
          setShowIconGift(true)
     };

     const handleAddCart = () => {

          if (cartBD.length === 0) {

               const additionCarts = [...projectCarts.slice(4)]
               setProjectCarts([...projectCarts.slice(0, 4)]);
               setCartBD(additionCarts);
               
               return;
          }

          setProjectCarts([...projectCarts, cartBD.shift()]);

          setCartBD([...cartBD])
     }

     const handleScroll = () => {
          showGiftIcon();
     }

     const handleClosingForm = () => {
          setIsOpenForm(false);
          document.body.classList.remove("_lock");
     }

     const handleScrollTop = () => {
          document.querySelector(".header").scrollIntoView({behavior: "smooth"});
     }

     useEffect(() => {
          document.addEventListener("scroll", handleScroll);
          // const timeoutID = setTimeout(() => openGiftPopupUpAuto(), 240000);

          return () => {
               document.removeEventListener("scroll", handleScroll);
               // clearTimeout(timeoutID);
          };
          
     }, [])

     return (
          
          <div className="main-page"> 
               <MoneyEarn/>
               <Description setIsOpenForm={setIsOpenForm} />
               <h6 className="main-page__my-project-title">
                    <svg width="1232" height="144" viewBox="0 0 1232 144" fill="none" xmlns="http://www.w3.org/2000/svg">
                         <path d="M153 2.4H154V1.4H153V2.4ZM153 142V143H154V142H153ZM125 142H124V143H125V142ZM125 51.2H126L124.075 50.8191L125 51.2ZM87.6 142V143H88.2696L88.5246 142.381L87.6 142ZM66.4 142L65.4761 142.383L65.7318 143H66.4V142ZM28.8 51.2L29.7239 50.8174L27.8 51.2H28.8ZM28.8 142V143H29.8V142H28.8ZM0.800001 142H-0.199999V143H0.800001V142ZM0.800001 2.4V1.4H-0.199999V2.4H0.800001ZM32.6 2.4L33.5194 2.00672L33.2599 1.4H32.6V2.4ZM77 106.2L76.0806 106.593L77 108.743L77.9194 106.593L77 106.2ZM121.4 2.4V1.4H120.74L120.481 2.00672L121.4 2.4ZM152 2.4V142H154V2.4H152ZM153 141H125V143H153V141ZM126 142V51.2H124V142H126ZM124.075 50.8191L86.6754 141.619L88.5246 142.381L125.925 51.5808L124.075 50.8191ZM87.6 141H66.4V143H87.6V141ZM67.3239 141.617L29.7239 50.8174L27.8761 51.5826L65.4761 142.383L67.3239 141.617ZM27.8 51.2V142H29.8V51.2H27.8ZM28.8 141H0.800001V143H28.8V141ZM1.8 142V2.4H-0.199999V142H1.8ZM0.800001 3.4H32.6V1.4H0.800001V3.4ZM31.6806 2.79328L76.0806 106.593L77.9194 105.807L33.5194 2.00672L31.6806 2.79328ZM77.9194 106.593L122.319 2.79328L120.481 2.00672L76.0806 105.807L77.9194 106.593ZM121.4 3.4H153V1.4H121.4V3.4ZM291.683 2.4L292.571 2.86043L293.328 1.4H291.683V2.4ZM244.483 93.4L243.595 92.9396L243.483 93.1561V93.4H244.483ZM244.483 142V143H245.483V142H244.483ZM216.483 142H215.483V143H216.483V142ZM216.483 93.4H217.483V93.1552L217.37 92.938L216.483 93.4ZM169.083 2.4V1.4H167.434L168.196 2.86196L169.083 2.4ZM200.683 2.4L201.588 1.97447L201.318 1.4H200.683V2.4ZM230.683 66.2L229.778 66.6255L230.686 68.5565L231.589 66.6232L230.683 66.2ZM260.483 2.4V1.4H259.846L259.577 1.9768L260.483 2.4ZM290.795 1.93957L243.595 92.9396L245.371 93.8604L292.571 2.86043L290.795 1.93957ZM243.483 93.4V142H245.483V93.4H243.483ZM244.483 141H216.483V143H244.483V141ZM217.483 142V93.4H215.483V142H217.483ZM217.37 92.938L169.97 1.93803L168.196 2.86196L215.596 93.862L217.37 92.938ZM169.083 3.4H200.683V1.4H169.083V3.4ZM199.778 2.82552L229.778 66.6255L231.588 65.7745L201.588 1.97447L199.778 2.82552ZM231.589 66.6232L261.389 2.82319L259.577 1.9768L229.777 65.7768L231.589 66.6232ZM260.483 3.4H291.683V1.4H260.483V3.4ZM451.887 66.6L451.012 66.1174L451.008 66.1243L451.004 66.1313L451.887 66.6ZM435.288 82.4L434.822 81.5151L434.815 81.5185L435.288 82.4ZM383.488 88.4V87.4H382.488V88.4H383.488ZM383.488 142V143H384.488V142H383.488ZM355.488 142H354.488V143H355.488V142ZM355.488 2.4V1.4H354.488V2.4H355.488ZM434.488 8L434.047 8.89755L434.488 8ZM451.488 23.4L450.619 23.8961L450.623 23.9027L450.627 23.9093L451.488 23.4ZM422.888 60.6L423.568 61.3328L423.575 61.3264L423.582 61.3198L422.888 60.6ZM383.488 25.2V24.2H382.488V25.2H383.488ZM383.488 65.8H382.488V66.8H383.488V65.8ZM456.288 45.6C456.288 52.8981 454.53 59.732 451.012 66.1174L452.763 67.0826C456.445 60.4013 458.288 53.2353 458.288 45.6H456.288ZM451.004 66.1313C447.646 72.4598 442.273 77.5932 434.822 81.5151L435.753 83.2849C443.502 79.2068 449.195 73.8069 452.771 67.0687L451.004 66.1313ZM434.815 81.5185C427.536 85.4181 418.245 87.4 406.888 87.4V89.4C418.463 89.4 428.106 87.3819 435.76 83.2815L434.815 81.5185ZM406.888 87.4H383.488V89.4H406.888V87.4ZM382.488 88.4V142H384.488V88.4H382.488ZM383.488 141H355.488V143H383.488V141ZM356.488 142V2.4H354.488V142H356.488ZM355.488 3.4H406.888V1.4H355.488V3.4ZM406.888 3.4C417.575 3.4 426.616 5.24756 434.047 8.89755L434.928 7.10244C427.159 3.28577 417.8 1.4 406.888 1.4V3.4ZM434.047 8.89755C441.491 12.5542 446.997 17.5575 450.619 23.8961L452.356 22.9038C448.511 16.1758 442.684 10.9124 434.928 7.10244L434.047 8.89755ZM450.627 23.9093C454.394 30.2749 456.288 37.4961 456.288 45.6H458.288C458.288 37.1706 456.314 29.5918 452.348 22.8907L450.627 23.9093ZM405.688 66.8C413.546 66.8 419.574 65.0416 423.568 61.3328L422.207 59.8672C418.735 63.0917 413.296 64.8 405.688 64.8V66.8ZM423.582 61.3198C427.554 57.489 429.488 52.2037 429.488 45.6H427.488C427.488 51.7963 425.687 56.511 422.193 59.8802L423.582 61.3198ZM429.488 45.6C429.488 38.6153 427.531 33.2021 423.454 29.5547C419.399 25.9263 413.416 24.2 405.688 24.2V26.2C413.159 26.2 418.576 27.8737 422.121 31.0452C425.644 34.1978 427.488 38.9847 427.488 45.6H429.488ZM405.688 24.2H383.488V26.2H405.688V24.2ZM382.488 25.2V65.8H384.488V25.2H382.488ZM383.488 66.8H405.688V64.8H383.488V66.8ZM549.167 142L548.297 142.493L548.584 143H549.167V142ZM518.367 87.6L519.237 87.1073L518.95 86.6H518.367V87.6ZM505.167 87.6V86.6H504.167V87.6H505.167ZM505.167 142V143H506.167V142H505.167ZM477.167 142H476.167V143H477.167V142ZM477.167 2.4V1.4H476.167V2.4H477.167ZM557.167 8.19999L556.714 9.09136L556.726 9.09755L557.167 8.19999ZM574.167 23.6L573.299 24.0961L573.305 24.1067L573.311 24.1171L574.167 23.6ZM571.967 70.2L572.776 70.7882L572.781 70.7812L571.967 70.2ZM548.167 85.4L547.91 84.4336L546.636 84.7724L547.306 85.9082L548.167 85.4ZM581.567 142V143H583.318L582.428 141.492L581.567 142ZM505.167 66.6H504.167V67.6H505.167V66.6ZM545.567 61.2L546.261 61.9198L546.268 61.9135L546.274 61.9071L545.567 61.2ZM545.567 31L544.873 31.7198L544.88 31.7264L544.887 31.7328L545.567 31ZM505.167 25.6V24.6H504.167V25.6H505.167ZM550.037 141.507L519.237 87.1073L517.497 88.0927L548.297 142.493L550.037 141.507ZM518.367 86.6H505.167V88.6H518.367V86.6ZM504.167 87.6V142H506.167V87.6H504.167ZM505.167 141H477.167V143H505.167V141ZM478.167 142V2.4H476.167V142H478.167ZM477.167 3.4H529.567V1.4H477.167V3.4ZM529.567 3.4C540.251 3.4 549.287 5.31257 556.714 9.09127L557.621 7.30872C549.848 3.35409 540.484 1.4 529.567 1.4V3.4ZM556.726 9.09755C564.17 12.7542 569.677 17.7575 573.299 24.0961L575.035 23.1039C571.191 16.3758 565.364 11.1124 557.608 7.30244L556.726 9.09755ZM573.311 24.1171C577.077 30.3501 578.967 37.369 578.967 45.2H580.967C580.967 37.031 578.991 29.6499 575.023 23.0829L573.311 24.1171ZM578.967 45.2C578.967 54.1922 576.365 62.3222 571.153 69.6188L572.781 70.7812C578.236 63.1445 580.967 54.6078 580.967 45.2H578.967ZM571.158 69.6118C565.986 76.7239 558.268 81.6802 547.91 84.4336L548.424 86.3664C559.133 83.5198 567.282 78.3427 572.776 70.7882L571.158 69.6118ZM547.306 85.9082L580.706 142.508L582.428 141.492L549.028 84.8918L547.306 85.9082ZM581.567 141H549.167V143H581.567V141ZM505.167 67.6H528.567V65.6H505.167V67.6ZM528.567 67.6C536.307 67.6 542.27 65.7682 546.261 61.9198L544.873 60.4802C541.397 63.8318 536.028 65.6 528.567 65.6V67.6ZM546.274 61.9071C550.238 57.9438 552.167 52.5318 552.167 45.8H550.167C550.167 52.1349 548.363 56.9895 544.86 60.4929L546.274 61.9071ZM552.167 45.8C552.167 39.1979 550.234 33.9693 546.248 30.2672L544.887 31.7328C548.367 34.9641 550.167 39.602 550.167 45.8H552.167ZM546.261 30.2802C542.27 26.4318 536.307 24.6 528.567 24.6V26.6C536.028 26.6 541.397 28.3682 544.873 31.7198L546.261 30.2802ZM528.567 24.6H505.167V26.6H528.567V24.6ZM504.167 25.6V66.6H506.167V25.6H504.167ZM634.092 134.2L634.581 133.328L634.581 133.328L634.092 134.2ZM608.092 108.8L607.229 109.305L607.232 109.31L608.092 108.8ZM608.092 35.2L608.952 35.7098L608.955 35.7052L608.092 35.2ZM634.092 9.59999L633.603 8.72784L633.603 8.72784L634.092 9.59999ZM706.092 9.59999L705.598 10.4696L705.603 10.4721L706.092 9.59999ZM731.892 35.2L731.025 35.6973L731.028 35.7036L731.032 35.7098L731.892 35.2ZM731.892 108.8L731.029 108.295L731.027 108.298L731.892 108.8ZM706.092 134.2L705.603 133.328L705.603 133.328L706.092 134.2ZM692.292 112.8L692.796 113.664L692.803 113.66L692.809 113.656L692.292 112.8ZM707.292 96.4L708.183 96.8539L708.183 96.8539L707.292 96.4ZM707.292 47.4L706.401 47.8539L706.405 47.8608L707.292 47.4ZM692.292 31.2L691.788 32.0638L691.788 32.0638L692.292 31.2ZM647.692 31.2L647.196 30.3317L647.188 30.3362L647.692 31.2ZM632.692 47.4L633.58 47.8608L633.583 47.8539L632.692 47.4ZM632.692 96.4L633.583 95.9461L633.583 95.9461L632.692 96.4ZM647.692 112.8L647.175 113.656L647.185 113.662L647.196 113.668L647.692 112.8ZM670.092 142.4C657.189 142.4 645.359 139.374 634.581 133.328L633.603 135.072C644.692 141.293 656.862 144.4 670.092 144.4V142.4ZM634.581 133.328C623.802 127.281 615.263 118.939 608.952 108.29L607.232 109.31C613.721 120.261 622.516 128.853 633.603 135.072L634.581 133.328ZM608.955 108.295C602.652 97.5275 599.492 85.3712 599.492 71.8H597.492C597.492 85.6955 600.732 98.2058 607.229 109.305L608.955 108.295ZM599.492 71.8C599.492 58.3639 602.652 46.3427 608.952 35.7098L607.232 34.6902C600.733 45.6573 597.492 58.0361 597.492 71.8H599.492ZM608.955 35.7052C615.266 24.9235 623.805 16.5176 634.581 10.4721L633.603 8.72784C622.513 14.9491 613.718 23.6098 607.229 34.6948L608.955 35.7052ZM634.581 10.4721C645.359 4.42625 657.189 1.4 670.092 1.4V-0.600001C656.862 -0.600001 644.692 2.50708 633.603 8.72784L634.581 10.4721ZM670.092 1.4C683.13 1.4 694.958 4.42711 705.598 10.4695L706.586 8.73043C695.626 2.50621 683.454 -0.600001 670.092 -0.600001V1.4ZM705.603 10.4721C716.378 16.5165 724.847 24.9199 731.025 35.6973L732.76 34.7027C726.404 23.6134 717.673 14.9501 706.581 8.72784L705.603 10.4721ZM731.032 35.7098C737.333 46.3427 740.492 58.3639 740.492 71.8H742.492C742.492 58.0361 739.252 45.6573 732.752 34.6902L731.032 35.7098ZM740.492 71.8C740.492 85.3712 737.332 97.5275 731.029 108.295L732.755 109.305C739.252 98.2058 742.492 85.6955 742.492 71.8H740.492ZM731.027 108.298C724.851 118.943 716.381 127.282 705.603 133.328L706.581 135.072C717.67 128.852 726.4 120.257 732.757 109.302L731.027 108.298ZM705.603 133.328C694.825 139.374 682.995 142.4 670.092 142.4V144.4C683.323 144.4 695.492 141.293 706.581 135.072L705.603 133.328ZM670.092 119.4C678.645 119.4 686.224 117.498 692.796 113.664L691.788 111.936C685.561 115.569 678.339 117.4 670.092 117.4V119.4ZM692.809 113.656C699.379 109.687 704.504 104.076 708.183 96.8539L706.401 95.9461C702.88 102.857 698.006 108.18 691.775 111.944L692.809 113.656ZM708.183 96.8539C711.866 89.6238 713.692 81.2633 713.692 71.8H711.692C711.692 81.0034 709.918 89.0429 706.401 95.9461L708.183 96.8539ZM713.692 71.8C713.692 62.3373 711.867 54.0401 708.18 46.9392L706.405 47.8608C709.918 54.6266 711.692 62.596 711.692 71.8H713.692ZM708.183 46.9461C704.503 39.7211 699.374 34.1731 692.796 30.3362L691.788 32.0638C698.011 35.6936 702.882 40.9456 706.401 47.8539L708.183 46.9461ZM692.796 30.3362C686.224 26.5023 678.645 24.6 670.092 24.6V26.6C678.339 26.6 685.561 28.4311 691.788 32.0638L692.796 30.3362ZM670.092 24.6C661.539 24.6 653.897 26.5024 647.196 30.3318L648.188 32.0682C654.554 28.431 661.846 26.6 670.092 26.6V24.6ZM647.188 30.3362C640.611 34.1731 635.482 39.7211 631.801 46.9461L633.583 47.8539C637.103 40.9456 641.974 35.6936 648.196 32.0638L647.188 30.3362ZM631.805 46.9392C628.118 54.0401 626.292 62.3373 626.292 71.8H628.292C628.292 62.596 630.067 54.6266 633.58 47.8608L631.805 46.9392ZM626.292 71.8C626.292 81.2633 628.118 89.6238 631.801 96.8539L633.583 95.9461C630.066 89.0429 628.292 81.0034 628.292 71.8H626.292ZM631.801 96.8539C635.48 104.076 640.606 109.687 647.175 113.656L648.209 111.944C641.979 108.18 637.104 102.857 633.583 95.9461L631.801 96.8539ZM647.196 113.668C653.897 117.498 661.539 119.4 670.092 119.4V117.4C661.846 117.4 654.554 115.569 648.188 111.932L647.196 113.668ZM843.723 2.4H844.723V1.4H843.723V2.4ZM831.923 132.2L832.612 132.925L832.618 132.919L831.923 132.2ZM767.923 131.8L767.234 132.525L767.24 132.53L767.923 131.8ZM755.723 99.4V98.4H754.723V99.4H755.723ZM783.723 99.4L784.723 99.3778L784.701 98.4H783.723V99.4ZM787.923 113.4L787.143 114.025L787.15 114.034L787.158 114.043L787.923 113.4ZM811.523 113.6L812.292 114.24L812.292 114.24L811.523 113.6ZM815.523 2.4V1.4H814.523V2.4H815.523ZM842.723 2.4V100.4H844.723V2.4H842.723ZM842.723 100.4C842.723 113.799 838.855 124.113 831.229 131.481L832.618 132.919C840.725 125.087 844.723 114.201 844.723 100.4H842.723ZM831.235 131.475C823.593 138.728 813.326 142.4 800.323 142.4V144.4C813.721 144.4 824.521 140.605 832.612 132.925L831.235 131.475ZM800.323 142.4C787.196 142.4 776.656 138.599 768.607 131.07L767.24 132.53C775.725 140.467 786.785 144.4 800.323 144.4V142.4ZM768.612 131.075C760.723 123.574 756.723 113.062 756.723 99.4H754.723C754.723 113.472 758.858 124.56 767.234 132.525L768.612 131.075ZM755.723 100.4H783.723V98.4H755.723V100.4ZM782.724 99.4222C782.86 105.555 784.293 110.463 787.143 114.025L788.704 112.775C786.221 109.671 784.854 105.245 784.723 99.3778L782.724 99.4222ZM787.158 114.043C790.185 117.647 794.491 119.4 799.923 119.4V117.4C794.955 117.4 791.262 115.82 788.689 112.757L787.158 114.043ZM799.923 119.4C805.216 119.4 809.394 117.717 812.292 114.24L810.755 112.96C808.319 115.883 804.764 117.4 799.923 117.4V119.4ZM812.292 114.24C815.153 110.807 816.523 106.153 816.523 100.4H814.523C814.523 105.847 813.227 109.993 810.755 112.96L812.292 114.24ZM816.523 100.4V2.4H814.523V100.4H816.523ZM815.523 3.4H843.723V1.4H815.523V3.4ZM904.386 25V24H903.386V25H904.386ZM904.386 60H903.386V61H904.386V60ZM951.386 60H952.386V59H951.386V60ZM951.386 82.2V83.2H952.386V82.2H951.386ZM904.386 82.2V81.2H903.386V82.2H904.386ZM904.386 119.2H903.386V120.2H904.386V119.2ZM957.386 119.2H958.386V118.2H957.386V119.2ZM957.386 142V143H958.386V142H957.386ZM876.386 142H875.386V143H876.386V142ZM876.386 2.19999V1.19999H875.386V2.19999H876.386ZM957.386 2.19999H958.386V1.19999H957.386V2.19999ZM957.386 25V26H958.386V25H957.386ZM903.386 25V60H905.386V25H903.386ZM904.386 61H951.386V59H904.386V61ZM950.386 60V82.2H952.386V60H950.386ZM951.386 81.2H904.386V83.2H951.386V81.2ZM903.386 82.2V119.2H905.386V82.2H903.386ZM904.386 120.2H957.386V118.2H904.386V120.2ZM956.386 119.2V142H958.386V119.2H956.386ZM957.386 141H876.386V143H957.386V141ZM877.386 142V2.19999H875.386V142H877.386ZM876.386 3.19999H957.386V1.19999H876.386V3.19999ZM956.386 2.19999V25H958.386V2.19999H956.386ZM957.386 24H904.386V26H957.386V24ZM985.231 35.2L984.364 34.7027L984.362 34.7062L985.231 35.2ZM1010.63 9.8L1011.12 10.6716L1011.13 10.6696L1010.63 9.8ZM1112.43 45.8V46.8H1113.81L1113.38 45.4865L1112.43 45.8ZM1080.23 45.8L1079.33 46.2327L1079.6 46.8H1080.23V45.8ZM1066.63 30.8L1066.13 31.6645L1066.14 31.6694L1066.63 30.8ZM1024.83 31.6L1025.34 32.4591L1025.35 32.4559L1024.83 31.6ZM1010.03 47.6L1009.14 47.1392L1009.14 47.146L1009.14 47.1528L1010.03 47.6ZM1010.03 96.4L1009.13 96.8404L1009.14 96.8507L1009.14 96.8608L1010.03 96.4ZM1024.83 112.6L1024.31 113.451L1024.32 113.458L1024.33 113.464L1024.83 112.6ZM1066.63 113.2L1067.13 114.065L1067.14 114.061L1066.63 113.2ZM1080.23 98V97H1079.6L1079.33 97.5673L1080.23 98ZM1112.43 98L1113.38 98.3109L1113.81 97H1112.43V98ZM1087.83 131.4L1088.39 132.228L1088.39 132.226L1087.83 131.4ZM1010.63 134.2L1010.13 135.067L1010.14 135.071L1010.15 135.074L1010.63 134.2ZM985.231 108.8L984.362 109.294L984.366 109.302L985.231 108.8ZM977.031 72C977.031 58.421 980.062 46.3278 986.101 35.6938L984.362 34.7062C978.134 45.6722 975.031 58.1123 975.031 72H977.031ZM986.099 35.6973C992.279 24.9156 1000.62 16.5804 1011.12 10.6716L1010.14 8.92842C999.312 15.0196 990.717 23.6177 984.364 34.7027L986.099 35.6973ZM1011.13 10.6696C1021.76 4.62798 1033.66 1.6 1046.83 1.6V-0.400003C1033.34 -0.400003 1021.1 2.70534 1010.14 8.93044L1011.13 10.6696ZM1046.83 1.6C1062.25 1.6 1075.72 5.55055 1087.27 13.4262L1088.39 11.7738C1076.48 3.64944 1062.61 -0.400003 1046.83 -0.400003V1.6ZM1087.27 13.4262C1098.81 21.2962 1106.88 32.1781 1111.48 46.1135L1113.38 45.4865C1108.65 31.1552 1100.32 19.9038 1088.39 11.7738L1087.27 13.4262ZM1112.43 44.8H1080.23V46.8H1112.43V44.8ZM1081.13 45.3673C1077.85 38.5354 1073.19 33.3742 1067.13 29.9305L1066.14 31.6694C1071.81 34.8925 1076.21 39.7313 1079.33 46.2327L1081.13 45.3673ZM1067.13 29.9355C1061.23 26.5011 1054.38 24.8 1046.63 24.8V26.8C1054.08 26.8 1060.57 28.4322 1066.13 31.6645L1067.13 29.9355ZM1046.63 24.8C1038.33 24.8 1030.88 26.7749 1024.31 30.7441L1025.35 32.4559C1031.58 28.6917 1038.66 26.8 1046.63 26.8V24.8ZM1024.32 30.7409C1017.88 34.5763 1012.82 40.0529 1009.14 47.1392L1010.92 48.0608C1014.44 41.2804 1019.25 36.0904 1025.34 32.4591L1024.32 30.7409ZM1009.14 47.1528C1005.59 54.2505 1003.83 62.5427 1003.83 72H1005.83C1005.83 62.7906 1007.54 54.8162 1010.93 48.0472L1009.14 47.1528ZM1003.83 72C1003.83 81.327 1005.59 89.6153 1009.13 96.8404L1010.93 95.9596C1007.54 89.0513 1005.83 81.073 1005.83 72H1003.83ZM1009.14 96.8608C1012.82 103.944 1017.88 109.484 1024.31 113.451L1025.36 111.749C1019.25 107.983 1014.44 102.722 1010.92 95.9392L1009.14 96.8608ZM1024.33 113.464C1030.89 117.295 1038.34 119.2 1046.63 119.2V117.2C1038.66 117.2 1031.57 115.372 1025.34 111.736L1024.33 113.464ZM1046.63 119.2C1054.38 119.2 1061.23 117.499 1067.13 114.065L1066.13 112.335C1060.57 115.568 1054.08 117.2 1046.63 117.2V119.2ZM1067.14 114.061C1073.19 110.485 1077.85 105.262 1081.13 98.4327L1079.33 97.5673C1076.21 104.071 1071.8 108.982 1066.12 112.339L1067.14 114.061ZM1080.23 99H1112.43V97H1080.23V99ZM1111.48 97.6891C1106.88 111.759 1098.81 122.705 1087.27 130.574L1088.39 132.226C1100.32 124.094 1108.65 112.775 1113.38 98.3109L1111.48 97.6891ZM1087.27 130.572C1075.86 138.313 1062.39 142.2 1046.83 142.2V144.2C1062.74 144.2 1076.61 140.22 1088.39 132.228L1087.27 130.572ZM1046.83 142.2C1033.65 142.2 1021.76 139.237 1011.12 133.326L1010.15 135.074C1021.11 141.163 1033.34 144.2 1046.83 144.2V142.2ZM1011.13 133.333C1000.62 127.289 992.276 118.949 986.096 108.298L984.366 109.302C990.72 120.251 999.312 128.845 1010.13 135.067L1011.13 133.333ZM986.101 108.306C980.062 97.6722 977.031 85.579 977.031 72H975.031C975.031 85.8877 978.134 98.3278 984.362 109.294L986.101 108.306ZM1231.35 2.4H1232.35V1.4H1231.35V2.4ZM1231.35 25V26H1232.35V25H1231.35ZM1194.15 25V24H1193.15V25H1194.15ZM1194.15 142V143H1195.15V142H1194.15ZM1166.15 142H1165.15V143H1166.15V142ZM1166.15 25H1167.15V24H1166.15V25ZM1128.95 25H1127.95V26H1128.95V25ZM1128.95 2.4V1.4H1127.95V2.4H1128.95ZM1230.35 2.4V25H1232.35V2.4H1230.35ZM1231.35 24H1194.15V26H1231.35V24ZM1193.15 25V142H1195.15V25H1193.15ZM1194.15 141H1166.15V143H1194.15V141ZM1167.15 142V25H1165.15V142H1167.15ZM1166.15 24H1128.95V26H1166.15V24ZM1129.95 25V2.4H1127.95V25H1129.95ZM1128.95 3.4H1231.35V1.4H1128.95V3.4Z" fill="#999999" fillOpacity="0.3" />
                    </svg>
               </h6>
               <div className="main-page__projects projects-block">
                    <div className="projects-block__container _container-project">
                         <TransitionGroup component={null}>
                         {    
                              projectCarts.map((item, index) => (
                                   <CSSTransition
                                        key={index}
                                        timeout={750}
                                        classNames="css-wrapper"
                                        nodeRef={item.nodeRef}
                                   >
                                        <ProjectCart {...item} num={index} key={item.id} />
                                   </CSSTransition>
                              ))
                         }
                         </TransitionGroup>
                         <div className="projects-block__actions-block">
                              <Button 
                                   children={cartBD.length === 0 ? "Приховати додані кейси" : "Побачити більше"} 
                                   handleAddCart={() => handleAddCart()} 
                                   isShowMore 
                                   isYellow/>
                              
                              <Services handleOpeningForm={() => {
                                             setIsOpenForm(true);
                                             document.body.classList.add("_lock");
                                        }
                                   }
                              />

                              <Experience/>
                              
                              <div className="projects-block__svg-wrapper">
                                   <span>Залишай заявку та давай зробимо результат разом!</span>

                                   <Button 
                                        handleOpeningForm={() => {
                                                  setIsOpenForm(true);
                                                  document.body.classList.add("_lock");
                                             }
                                        }
                                        metaLeadTracker={window.fbq}
                                        children="Залишити заявку" 
                                        yellBorder
                                   />
                              </div>
                         </div>
                    </div>
                    {
                         
                         isOpenGift ? <GiftPopup 
                                             handleClosingPopup={() => {
                                                  setIsOpenGift(!isOpenGift)
                                                  setIsArrowTop(true)
                                             }}/> 
                                   : showIconGift && !wasOpenGift ? <img 
                                                                      src={gift} 
                                                                      alt="Іконка подарунку" 
                                                                      className="main-page__gift-icon"
                                                                      onClick={() => handleOpenGiftModal()}/>
                                                                 : isArrowTop ? <img 
                                                                                     src={arrowTop} 
                                                                                     alt="Іконка стрілки для переміщення вверх" 
                                                                                     className="main-page__arrowTop-icon"
                                                                                     onClick={() => handleScrollTop()}
                                                                                /> : null
                    }
                         
                    {
                         isOpenForm ? <ContactForm handleClosingForm={() =>  handleClosingForm()}/> : null
                    }
               </div>
          </div >
     );
};
export default MainPage;